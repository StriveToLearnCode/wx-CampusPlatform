class k{constructor(t){this.message=t}toString(){return`Cancel${this.message?`: ${this.message}`:""}`}}function x(e){return e instanceof k}class q{constructor(t){let r;const o=new Promise(n=>{r=c=>{this.reason||(this.reason=new k(c),n(this.reason))}});this.onCancel=o.then.bind(o),t(r)}static source(){let t;return{token:new q(r=>{t=r}),cancel:t}}throwIfRequested(){if(this.reason)throw this.reason}}function H(e){return e instanceof q}class z extends Error{constructor(t,r,o,n){super(t),this.config=r,this.request=n,this.response=o}}function le(e,t,r,o){return new z(e,t,r,o)}function _(e){return e instanceof z}const B=["options","trace","connect"],G=["head","get","delete"],$=["post","put","patch"],de=new RegExp(`^(${$.join("|")})`,"i"),S=Object.prototype.toString;function fe(e){return e===null}function O(e){return typeof e=="undefined"}function C(e){return typeof e=="string"||S.call(e)==="[object String]"}function h(e){return S.call(e)==="[object Object]"}function W(e){return Array.isArray(e)}function pe(e){return S.call(e)==="[object Date]"}function d(e){return typeof e=="function"}function y(e,t){e||he(t)}function he(e){throw new Error(`[axios-miniprogram]: ${e}`)}function me(e){return h(e)?e:{}}const ye=/\/:([^/?]+)/g;function V(e,t={},r={}){const o=me(r);return e.replace(ye,(n,c)=>{var l;const u=(l=t[c])!=null?l:o[c];return c in t&&delete t[c],`/${u}`})}function v(...e){const t={};for(const r of e.filter(h))for(const[o,n]of Object.entries(r))if(h(n)){const c=t[o];t[o]=h(c)?v(c,n):v(n)}else t[o]=n;return t}var ge=Object.defineProperty,J=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable,K=(e,t,r)=>t in e?ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ve=(e,t)=>{for(var r in t||(t={}))we.call(t,r)&&K(e,r,t[r]);if(J)for(var r of J(t))be.call(t,r)&&K(e,r,t[r]);return e};function F(e,...t){const r=ve({},e);return U(r,t),r}function U(e,t){for(const r of t)delete e[r]}const Q="common",Pe=[Q].concat(B,G,$);function qe(e){var t;const r=(t=e.headers)!=null?t:{},o=v(r[Q],r[e.method],r);return F(o,...Pe)}function Ee(e,t,r){return W(r)||(d(r)?r=[r]:r=[]),r.forEach(o=>{e=o(e,t)}),e}function Oe(e="",t={},r=Re){const o=r(t);return o&&(e=`${e}${e.indexOf("?")===-1?"?":"&"}${o}`),e}function Re(e){const t=[];function r(o,n){t.push(`${X(o)}=${X(n)}`)}for(const[o,n]of Object.entries(e))if(!fe(n)&&!O(n)&&n===n)if(h(n))for(const[c,l]of Object.entries(n))r(`${o}[${c}]`,l);else if(W(n)){const c=`${o}[]`;for(const l of n)r(c,l)}else pe(n)?r(o,n.toISOString()):r(o,n);return t.join("&")}function X(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}const je=/^([a-z][\w-.]*:)\/\//i;function Ae(e){return je.test(e)}function Y(e="",t=""){return t?Ae(t)?t:`${e.replace(/\/+$/,"")}/${t.replace(/^\/+/,"")}`:e}function Z(e){const t=Y(e.baseURL,e.url);return Oe(t,e.params,e.paramsSerializer)}const Te={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Content Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Content",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"};function ee(e){return Te[e]||"Unknown"}function xe(e){let t="request";return e.download&&/^GET/i.test(e.method)?t="download":e.upload&&/^POST/i.test(e.method)&&(t="upload"),t}var $e=Object.defineProperty,Se=Object.defineProperties,Ce=Object.getOwnPropertyDescriptors,te=Object.getOwnPropertySymbols,Fe=Object.prototype.hasOwnProperty,Ue=Object.prototype.propertyIsEnumerable,re=(e,t,r)=>t in e?$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,De=(e,t)=>{for(var r in t||(t={}))Fe.call(t,r)&&re(e,r,t[r]);if(te)for(var r of te(t))Ue.call(t,r)&&re(e,r,t[r]);return e},Ie=(e,t)=>Se(e,Ce(t));function Me(e){return new Promise((t,r)=>{const o=Ie(De({},e),{type:xe(e),url:Z(e),method:e.method.toUpperCase(),success:c,fail:l});let n;try{n=e.adapter(o)}catch(a){l({status:400,statusText:"Bad Adapter"}),console.error(a)}function c(a){const s=a;s.status||(s.status=200),s.statusText||(s.statusText=ee(s.status)),s.headers||(s.headers={}),s.config=e,s.request=n;const{validateStatus:f}=e;!d(f)||f(s.status)?t(s):u("validate status error",s)}function l(a){const s=a;s.isFail=!0,s.status||(s.status=400),s.statusText||(s.statusText=ee(s.status)),s.headers||(s.headers={}),s.config=e,s.request=n,u("request fail",s)}function u(a,s){r(le(a,e,s,n))}h(n)&&ne(o,n.onProgressUpdate);const{cancelToken:i}=e;H(i)&&i.onCancel(a=>{h(n)&&(ne(o,n.offProgressUpdate),d(n.abort)&&n.abort()),r(a)})})}function ne(e,t){if(d(t)){const{type:r,onUploadProgress:o,onDownloadProgress:n}=e;switch(r){case"upload":d(o)&&t(o);break;case"download":d(n)&&t(n);break}}}function Le(e){D(e),y(d(e.adapter),"adapter \u4E0D\u662F\u4E00\u4E2A function"),y(C(e.url),"url \u4E0D\u662F\u4E00\u4E2A string"),y(C(e.method),"method \u4E0D\u662F\u4E00\u4E2A string"),e.url=V(e.url,e.params,e.data),e.headers=qe(e),de.test(e.method)?o(e,e.transformRequest):delete e.data;function t(n){return D(e),o(n,e.transformResponse),n}function r(n){return x(n)||(D(e),o(n.response,e.transformResponse)),Promise.reject(n)}function o(n,c){n.data=Ee(n.data,n.headers,c)}return Me(e).then(t,r)}function D(e){const{cancelToken:t}=e;H(t)&&t.throwIfRequested()}class oe{constructor(){this.id=0,this.interceptors=new Map}get size(){return this.interceptors.size}use(t,r){return this.interceptors.set(++this.id,{resolved:t,rejected:r}),this.id}eject(t){return this.interceptors.delete(t)}clear(){this.interceptors.clear()}forEach(t){this.interceptors.forEach(t)}}var Ne=(e,t,r)=>new Promise((o,n)=>{var c=i=>{try{u(r.next(i))}catch(a){n(a)}},l=i=>{try{u(r.throw(i))}catch(a){n(a)}},u=i=>i.done?o(i.value):Promise.resolve(i.value).then(c,l);u((r=r.apply(e,t)).next())});class ke{constructor(){this.middlewares=[]}use(t){y(d(t),"middleware \u4E0D\u662F\u4E00\u4E2A function"),this.middlewares.push(t)}createContext(t){return{req:t,res:null}}run(t,r){const o=[...this.middlewares,r];function n(){return Ne(this,null,function*(){yield o.shift()(t,n)})}return n()}enhanceRun(t){return(r,o)=>t(r,()=>this.run(r,o))}}const He={url:!0,data:!0,upload:!0,download:!0},ze={headers:!0,params:!0};function R(e={},t={}){const r={},o=Array.from(new Set([...Object.keys(e),...Object.keys(t)]));for(const n of o){const c=e[n],l=t[n];He[n]?O(l)||(r[n]=l):ze[n]?h(c)?r[n]=v(c,h(l)?l:{}):h(l)&&(r[n]=v(l,{})):O(l)?O(c)||(r[n]=c):r[n]=l}return r}var se=(e,t,r)=>new Promise((o,n)=>{var c=i=>{try{u(r.next(i))}catch(a){n(a)}},l=i=>{try{u(r.throw(i))}catch(a){n(a)}},u=i=>i.done?o(i.value):Promise.resolve(i.value).then(c,l);u((r=r.apply(e,t)).next())});class g{constructor(t,r){this.interceptors={request:new oe,response:new oe},this.middleware=new ke,this.request=(o,n={})=>{var c,l;C(o)?n.url=o:n=o,n=R(this.defaults,n),n.method=(l=(c=n.method)==null?void 0:c.toLowerCase())!=null?l:"get";const u={resolved:this.handleRequest},i={rejected:n.errorHandler},a=[];return this.eachInterceptors("request",s=>{a.unshift(s)}),a.push(u),this.eachInterceptors("response",s=>{a.push(s)}),a.push(i),a.reduce((s,{resolved:f,rejected:p})=>s.then(f,p),Promise.resolve(n))},this.use=o=>(this.middleware.use(o),this),this.handleRequest=o=>se(this,null,function*(){const n=this.middleware.createContext(o);return yield this.run(n,this.handleResponse),n.res}),this.run=(o,n)=>this.parent?this.middleware.enhanceRun(this.parent.run)(o,n):this.middleware.run(o,n),this.defaults=t,this.parent=r}eachInterceptors(t,r){this.interceptors[t].forEach(r),this.parent&&this.parent.eachInterceptors(t,r)}handleResponse(t){return se(this,null,function*(){t.res=yield Le(t.req)})}}for(const e of B)g.prototype[e]=function(t,r={}){return r.method=e,this.request(t,r)};for(const e of G)g.prototype[e]=function(t,r,o={}){return o.method=e,o.params=v(r,o.params),this.request(t,o)};for(const e of $)g.prototype[e]=function(t,r,o={}){return o.method=e,o.data=r,this.request(t,o)};function I(e,t){const r=new g(e,t),o=r.request;return o.getUri=function(n){return n.url=V(n.url,n.params,n.data),Z(R(e,n))},o.create=function(n){return I(R(e,n))},o.extend=function(n){return n.baseURL=Y(e.baseURL,n.baseURL),I(R(e,n),r)},Object.assign(o,r),Object.setPrototypeOf(o,g.prototype),o}var _e=Object.defineProperty,Be=Object.defineProperties,Ge=Object.getOwnPropertyDescriptors,j=Object.getOwnPropertySymbols,ae=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable,ue=(e,t,r)=>t in e?_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,P=(e,t)=>{for(var r in t||(t={}))ae.call(t,r)&&ue(e,r,t[r]);if(j)for(var r of j(t))ie.call(t,r)&&ue(e,r,t[r]);return e},A=(e,t)=>Be(e,Ge(t)),We=(e,t)=>{var r={};for(var o in e)ae.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&j)for(var o of j(e))t.indexOf(o)<0&&ie.call(e,o)&&(r[o]=e[o]);return r};function M(e){y(h(e),"platform \u4E0D\u662F\u4E00\u4E2A object"),y(d(e.request),"request \u4E0D\u662F\u4E00\u4E2A function"),y(d(e.upload),"upload \u4E0D\u662F\u4E00\u4E2A function"),y(d(e.download),"download \u4E0D\u662F\u4E00\u4E2A function");function t(u){const i=r(u);switch(u.type){case"request":return n(e.request,i);case"download":return c(e.download,i);case"upload":return l(e.upload,i)}}function r(u){const{success:i,fail:a}=u;return A(P({},u),{header:u.headers,success(s){const f=o(s);i(f)},fail(s){var f,p,m,b,E;const T=A(P({},o(s)),{data:{errno:(m=(p=(f=s.errno)!=null?f:s.error)!=null?p:s.errCode)!=null?m:s.errNo,errMsg:(E=(b=s.errString)!=null?b:s.errMsg)!=null?E:s.errorMessage}});a(T)}})}function o(u){var i,a;return A(P({},F(u,"statusCode","header","errno","error","errCode","errNo","errMsg","errorMessage","errString")),{status:(i=u.status)!=null?i:u.statusCode,headers:(a=u.headers)!=null?a:u.header})}function n(u,i){return u(i)}function c(u,i){const a=i,{params:s,success:f}=a;return a.filePath=s==null?void 0:s.filePath,a.success=p=>{var m;const b=A(P({},F(p,"tempFilePath","apFilePath","filePath","fileSize")),{data:{filePath:p.filePath,tempFilePath:(m=p.tempFilePath)!=null?m:p.apFilePath,fileSize:p.fileSize}});f(b)},U(a,["params"]),u(a)}function l(u,i){const a=i,{data:s,success:f}=a,p=s,{name:m,filePath:b,fileType:E}=p,T=We(p,["name","filePath","fileType"]);return a.name=m,a.filePath=b,a.formData=T,a.fileName=m,a.fileType=E,a.success=L=>{const N=P({},L);if(a.responseType==="text"&&a.dataType==="json")try{N.data=JSON.parse(L.data)}catch(Ye){}f(N)},U(a,["params","data"]),u(a)}return t}function Ve(){const e=Ke(Je());if(Qe(e))return M(e)}function Je(){const e="undefined";if(typeof wx!==e)return wx;if(typeof my!==e)return my;if(typeof swan!==e)return swan;if(typeof tt!==e)return tt;if(typeof qq!==e)return qq;if(typeof qh!==e)return qh;if(typeof ks!==e)return ks;if(typeof dd!==e)return dd;if(typeof jd!==e)return jd;if(typeof xhs!==e)return xhs}function Ke(e){var t,r,o;if(e)return{request:(t=e.request)!=null?t:e.httpRequest,upload:(r=e.upload)!=null?r:e.uploadFile,download:(o=e.download)!=null?o:e.downloadFile}}function Qe(e){return h(e)&&d(e.request)&&d(e.upload)&&d(e.download)}const Xe={adapter:Ve(),headers:{common:{Accept:"application/json, text/plain, */*"},options:{},get:{},head:{},post:{},put:{},patch:{},delete:{},trace:{},connect:{}},validateStatus(e){return e>=200&&e<300},dataType:"json",responseType:"text",timeout:1e4},ce="2.7.2",w=I(Xe);w.version=ce,w.Axios=g,w.CancelToken=q,w.createAdapter=M,w.isCancel=x,w.isAxiosError=_;export{g as Axios,q as CancelToken,M as createAdapter,w as default,_ as isAxiosError,x as isCancel,ce as version};
//# sourceMappingURL=axios-miniprogram.esm.js.map
